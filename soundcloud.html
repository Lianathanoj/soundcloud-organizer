<!DOCTYPE HTML>
<html>
<head>
    <script src="https://connect.soundcloud.com/sdk/sdk-3.1.2.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.0.js"   integrity="sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk="   crossorigin="anonymous"></script>
    <script>
    SC.initialize({
      client_id: 'e8f229ff62df70ca77ff05cf6f458d83',
      redirect_uri: 'file:///C:/Users/Jonathan/Documents/GitHub/soundcloud-organizer/callback.html' // USE THIS FOR LOCAL TESTING OF OAUTH
    });

    // oauth probably not even necessary
    // initiate auth popup
    // SC.connect().then(function() {
      // return SC.get('/me');
    // }).then(function(me) {
      // alert('Hello, ' + me.username);
    // });
    
    // console.log(SC.get("/resolve/?url=https://soundcloud.com/oshi/tracks"));
    
    $(document).ready(function() {
        SC.get("/resolve/?url=https://soundcloud.com/oshi/tracks").then(function(tracks) { // modify tracks array using .sort w/ specified compareTo or whatever JS uses
            for (var i = 0; i < tracks.length; i++) {
              // console.log(tracks[i].title);
              console.log(tracks[i].permalink_url);
              // $("table").append("<tr><td>" + i + "</td></tr>");
              SC.oEmbed(tracks[i].permalink_url).then(function(widget) {
                $("table").append("<tr><td>" + widget.html + "</td></tr>");
              });
            }
        });
    });   
    
    // playlists??
    
    // reorder XML to appear in diff. order?
    // TODO: implement quicksort in JS to sort tracks by maxCout to minCount then display tracks on webpage
    
  
  
    </script>
</head>

<body>
    <table></table>
</body> 
</html>
